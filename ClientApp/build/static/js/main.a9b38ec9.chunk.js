(this.webpackJsonpreactcms=this.webpackJsonpreactcms||[]).push([[0],{135:function(e,n,t){"use strict";t.r(n);t(122);var r=t(0),a=t(34),c=t(103),o=t(47),i=t(13),s=t(3),u=t(8),j=t(213),l=t(204),b=t(211),d=t(217),x=t(202),h=t(219),O=t(198),p=t(218),f=t(220),m=t(221),M=t(77),g=t.n(M),v=t(90),N=t.n(v),k=t(215),w=t(97),y=t.n(w),S=t(99),L=t.n(S),F=t(100),C=t.n(F),T=t(212),P=t(192),I=t(216),D=t(25),U=t(191),W=t(1),q={navlinks:{marginLeft:5,display:"flex"},logo:{flexGrow:1,cursor:"pointer",textDecoration:"none",color:"#FFFFFF"},link:{textDecoration:"none",color:"#000000",width:"100%"}};var E=function(){var e=Object(D.a)(),n=Object(U.a)(e.breakpoints.down("md")),t=Object(r.useState)(!1),a=Object(u.a)(t,2),c=a[0],i=a[1],M=Object(r.useState)([]),v=Object(u.a)(M,2),w=v[0],S=v[1];return Object(r.useEffect)((function(){console.log("openMenuNested="),console.log(w)})),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(P.a,{}),Object(W.jsx)(j.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(W.jsxs)(b.a,{children:[n?Object(W.jsx)(k.a,{onClick:function(){return i(!c)},style:{color:"white"},children:Object(W.jsx)(y.a,{})}):"",Object(W.jsx)(o.b,{to:"/",style:q.logo,children:Object(W.jsx)(I.a,{variant:"h5",noWrap:!0,component:"div",children:"CMS"})})]})}),Object(W.jsxs)(l.a,{variant:n?"temporary":"permanent",sx:Object(s.a)({width:240,flexShrink:0},"& .MuiDrawer-paper",{width:240,boxSizing:"border-box"}),open:c,children:[Object(W.jsx)(b.a,{}),Object(W.jsx)(T.a,{sx:{overflow:"auto"},children:function(e){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(d.a,{children:e.filter((function(e){return""===e.MenuLink&&""===e.parentMenuNo})).map((function(n,t){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(O.a,{onClick:function(){!function(e){var n=w.concat(),t=w.findIndex((function(n){return n===e}));-1!==t?n.splice(t):n.push(e);S(n)}(n.MenuNo)},children:[Object(W.jsx)(p.a,{children:Object(W.jsx)(g.a,{})}),Object(W.jsx)(h.a,{primary:n.MenuNa}),w.some((function(e){return e===n.MenuNo}))?Object(W.jsx)(L.a,{}):Object(W.jsx)(C.a,{})]}),Object(W.jsx)(f.a,{in:F(n.MenuNo),timeout:"auto",unmountOnExit:!0,children:Object(W.jsx)(d.a,{component:"div",disablePadding:!0,children:e.filter((function(e){return e.parentMenuNo===n.MenuNo})).map((function(e){return Object(W.jsx)(x.a,{disablePadding:!0,children:Object(W.jsx)(o.b,{to:e.MenuLink,style:q.link,children:Object(W.jsxs)(O.a,{sx:{pl:4},onClick:function(){i(!1)},children:[Object(W.jsx)(p.a,{children:t%2===0?Object(W.jsx)(g.a,{}):Object(W.jsx)(N.a,{})}),Object(W.jsx)(h.a,{primary:e.MenuNa})]})})},e.MenuNo)}))})})]})}))}),Object(W.jsx)(m.a,{}),Object(W.jsx)(d.a,{children:e.filter((function(e){return""!==e.MenuLink&&""===e.parentMenuNo})).map((function(e,n){return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(o.b,{to:e.MenuLink,style:q.link,children:Object(W.jsxs)(O.a,{onClick:function(){i(!1)},children:[Object(W.jsx)(p.a,{children:n%2===0?Object(W.jsx)(g.a,{}):Object(W.jsx)(N.a,{})}),Object(W.jsx)(h.a,{primary:e.MenuNa})]})})})}))})]})}([{MenuNo:"Home",MenuNa:"\u500b\u4eba\u9996\u9801",MenuLink:"/",parentMenuNo:""},{MenuNo:"Contact",MenuNa:"\u806f\u7d61\u6211\u5011",MenuLink:"/Contact",parentMenuNo:""},{MenuNo:"Faq",MenuNa:"\u5e38\u898b\u554f\u984c",MenuLink:"/Faq",parentMenuNo:""},{MenuNo:"About",MenuNa:"\u95dc\u65bc\u6211\u5011",MenuLink:"/About",parentMenuNo:""},{MenuNo:"POS",MenuNa:"\u524d\u53f0\u529f\u80fd\u7ba1\u7406",MenuLink:"",parentMenuNo:""},{MenuNo:"P0001",MenuNa:"\u7cfb\u7d71\u53c3\u6578\u8a2d\u5b9a",MenuLink:"/POS/P0001",parentMenuNo:"POS"},{MenuNo:"Manager",MenuNa:"\u5f8c\u53f0\u529f\u80fd\u7ba1\u7406",MenuLink:"",parentMenuNo:""},{MenuNo:"M0001",MenuNa:"\u7cfb\u7d71\u53c3\u6578\u8a2d\u5b9a",MenuLink:"/Manager/M0001",parentMenuNo:"Manager"},{MenuNo:"M0002",MenuNa:"\u5ba2\u88fd\u53c3\u6578\u8a2d\u5b9a",MenuLink:"/Manager/M0002",parentMenuNo:"Manager"},{MenuNo:"M0003",MenuNa:"\u6536\u9280\u529f\u80fd\u8a2d\u5b9a",MenuLink:"/Manager/M0003",parentMenuNo:"Manager"},{MenuNo:"M0004",MenuNa:"\u5916\u90e8\u7cfb\u7d71\u8a2d\u5b9a",MenuLink:"/Manager/M0004",parentMenuNo:"Manager"}])})]})]});function F(e){return w.some((function(n){return n===e}))}};var A=function(){return Object(W.jsx)(I.a,{children:"This is the homepage"})};var R=function(){return Object(W.jsx)(I.a,{children:"About us page"})};var J=function(){return Object(W.jsx)(I.a,{children:"Contact Us page"})};var z=function(){return Object(W.jsx)(I.a,{children:"Faq page"})};var B=function(){return Object(W.jsx)(I.a,{children:"This is the P0001"})};var Y=function(){return Object(W.jsx)(I.a,{children:"This is the M0002"})};var G=function(){return Object(W.jsx)(I.a,{children:"This is the M0003"})};var H=function(){return Object(W.jsx)(I.a,{children:"This is the M0004"})};var V=function(){return Object(W.jsx)(I.a,{children:"This is the M0005"})},$=t(203),K=t(205);function Q(e){e.preventDefault(),console.info("You clicked a breadcrumb.")}function X(){return console.log(location),Object(W.jsx)("div",{role:"presentation",onClick:Q,children:Object(W.jsxs)($.a,{"aria-label":"breadcrumb",children:[Object(W.jsx)(K.a,{underline:"hover",color:"inherit",href:"/",children:"MUI"}),Object(W.jsx)(K.a,{underline:"hover",color:"inherit",href:"/material-ui/getting-started/installation/",children:"Core"}),Object(W.jsx)(I.a,{color:"text.primary",children:"Breadcrumbs"})]})})}var Z=function(){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(T.a,{children:Object(W.jsx)(X,{})}),Object(W.jsx)(T.a,{}),Object(W.jsx)(T.a,{})]})},_=t(16),ee=t.n(_),ne=t(20),te=function(){var e=Object(ne.a)(ee.a.mark((function e(n,t){var r,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/Login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({UserNo:n,UserPwd:t})});case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),re=function(){var e=localStorage.getItem("user");return e?JSON.parse(e):{}},ae=t(91),ce=t(207),oe=t(208),ie=t(199),se=t(222),ue=t(201),je=t(214),le=t(206),be=t(101),de=t.n(be),xe=t(102),he=t(210);function Oe(e){return Object(W.jsxs)(I.a,Object(ae.a)(Object(ae.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(W.jsx)(K.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var pe=Object(xe.a)();function fe(){var e=Object(r.useState)(""),n=Object(u.a)(e,2),t=n[0],a=n[1],c=function(){var e=Object(ne.a)(ee.a.mark((function e(n){var t,r,c,o,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t=new FormData(n.currentTarget),r={account:t.get("account"),password:t.get("password")},e.next=5,te(r.account,r.password);case 5:c=e.sent,console.log(c),"0000"==c.ResponseNo?(o=c.ResponseData).Token?(i={UserNo:o.UserNo,UserNa:o.UserNa,Token:o.Token},localStorage.setItem("user",JSON.stringify(i))):a("\u767b\u5165\u51fa\u73fe\u7570\u5e38\uff0c\u8acb\u4f11\u606f\u4e00\u6703\u518d\u5617\u8a66\u3002"):a(c.ResponseNa);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(W.jsx)(he.a,{theme:pe,children:Object(W.jsxs)(le.a,{container:!0,component:"main",sx:{height:"100vh"},children:[Object(W.jsx)(P.a,{}),Object(W.jsx)(le.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(W.jsx)(le.a,{item:!0,xs:12,sm:8,md:5,component:je.a,elevation:6,square:!0,children:Object(W.jsxs)(T.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(W.jsx)(ce.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(W.jsx)(de.a,{})}),Object(W.jsx)(I.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(W.jsxs)(T.a,{component:"form",noValidate:!0,onSubmit:c,sx:{mt:1},children:[Object(W.jsx)(ie.a,{error:""!==t,margin:"normal",required:!0,fullWidth:!0,id:"account",label:"Account",name:"account",autoFocus:!0}),Object(W.jsx)(ie.a,{error:""!==t,margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:""!==t?t:""}),Object(W.jsx)(se.a,{control:Object(W.jsx)(ue.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(W.jsx)(oe.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(W.jsxs)(le.a,{container:!0,children:[Object(W.jsx)(le.a,{item:!0,xs:!0,children:Object(W.jsx)(K.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(W.jsx)(le.a,{item:!0,children:Object(W.jsx)(K.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(W.jsx)(Oe,{sx:{mt:5}})]})]})})]})})}var me=Object(r.createContext)({}),Me=function(e){var n=e.children;try{var t=Object(r.useState)(null),a=Object(u.a)(t,2),c=a[0],o=a[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(ne.a)(ee.a.mark((function e(){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=re(),console.log("cuser",n),console.log(n.Token),null!==n&&void 0!==n.Token||(console.log("empty!"),localStorage.removeItem("user"),n=null),o(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),console.log("usercontext",c),Object(W.jsx)(me.Provider,{value:[c,o],children:c?n:Object(W.jsx)(fe,{})})}catch(i){console.error(i)}};var ge=function(){return Object(W.jsx)(o.a,{children:Object(W.jsx)(Me,{children:Object(W.jsxs)(T.a,{sx:{display:"flex"},children:[Object(W.jsx)(E,{}),Object(W.jsxs)(T.a,{component:"main",sx:{flexGrow:1,p:3},children:[Object(W.jsx)(b.a,{}),Object(W.jsxs)(i.c,{children:[Object(W.jsx)(i.a,{path:"/",element:Object(W.jsx)(A,{})}),Object(W.jsx)(i.a,{path:"/Login",element:Object(W.jsx)(fe,{})}),Object(W.jsx)(i.a,{path:"/about",element:Object(W.jsx)(R,{})}),Object(W.jsx)(i.a,{path:"/contact",element:Object(W.jsx)(J,{})}),Object(W.jsx)(i.a,{path:"/faq",element:Object(W.jsx)(z,{})}),Object(W.jsx)(i.a,{path:"/POS/P0001",element:Object(W.jsx)(B,{})}),Object(W.jsx)(i.a,{path:"/Manager/M0001",element:Object(W.jsx)(Z,{})}),Object(W.jsx)(i.a,{path:"/Manager/M0002",element:Object(W.jsx)(Y,{})}),Object(W.jsx)(i.a,{path:"/Manager/M0003",element:Object(W.jsx)(G,{})}),Object(W.jsx)(i.a,{path:"/Manager/M0004",element:Object(W.jsx)(H,{})}),Object(W.jsx)(i.a,{path:"/Manager/M0005",element:Object(W.jsx)(V,{})})]})]})]})})})},ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ne(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ke=document.getElementsByTagName("base")[0].getAttribute("href");Object(c.a)({basename:ke});a.render(Object(W.jsx)(ge,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");ve?function(e){fetch(e).then((function(n){var t=n.headers.get("content-type");404===n.status||t&&-1===t.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ne(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):Ne(e)}))}}()}},[[135,1,2]]]);
//# sourceMappingURL=main.a9b38ec9.chunk.js.map